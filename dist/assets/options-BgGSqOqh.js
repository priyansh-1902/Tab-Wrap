import{c as ne,j as e,r as p}from"./client-uQO10hJn.js";import{c as f}from"./createLucideIcon-C0yB5kjC.js";import{S as V}from"./sparkles-DXWtD5OR.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],de=f("check",ce);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],pe=f("pause",ue);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ge=f("pen",me);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xe=f("play",he);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fe=f("plus",be);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ve=f("save",ye);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],je=f("settings",we);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ke=f("trash-2",Ne);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Me=f("trending-up",Ce);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Te=f("user",Se);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],R=f("x",_e),P=()=>[{text:"Work",emoji:"ðŸ’¼",color:"#7e22ce"},{text:"Finance",emoji:"ðŸ’°",color:"#22c55e"},{text:"Hobbies",emoji:"ðŸŽ¨",color:"#facc15"},{text:"Spirituality",emoji:"ðŸ§˜",color:"#22d3ee"},{text:"Health",emoji:"ðŸ‹ï¸",color:"#ef4444"},{text:"Social Media",emoji:"ðŸ’¬",color:"#ff6347"},{text:"Community",emoji:"ðŸ¤",color:"#a259ff"},{text:"Entertainment",emoji:"ðŸŽ¬",color:"#fb923c"},{text:"Shopping",emoji:"ðŸ›’",color:"#38bdf8"},{text:"News",emoji:"ðŸ“°",color:"#2563eb"},{text:"Travel",emoji:"âœˆï¸",color:"#f472b6"},{text:"Miscellaneous",emoji:"â“",color:"#9ca3af"}],U=[{name:"Purple",value:"#7e22ce"},{name:"Green",value:"#22c55e"},{name:"Yellow",value:"#facc15"},{name:"Teal",value:"#22d3ee"},{name:"Red",value:"#ef4444"},{name:"Tomato",value:"#ff6347"},{name:"Orange",value:"#fb923c"},{name:"Sky Blue",value:"#38bdf8"},{name:"Pink",value:"#f472b6"},{name:"Violet",value:"#a259ff"},{name:"Indigo",value:"#2563eb"},{name:"Gray",value:"#9ca3af"}],B=["Look at you being productive! ðŸŽ‰","Your browsing stats are *chef's kiss* ðŸ‘¨â€ðŸ³","Wow, someone's been busy! ðŸš€","These numbers don't lie! ðŸ“Š","Profile saved! Now go browse something interesting ðŸ˜Ž","Data secured! Your secrets are safe with me ðŸ”’","Changes saved! You're on fire! ðŸ”¥"],De=({message:_})=>e.jsx("div",{id:"notification-message",className:"fixed top-5 right-5 z-50 p-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl shadow-2xl transition-all duration-500 opacity-0 pointer-events-none transform translate-y-[-20px]",style:{minWidth:"280px",backdropFilter:"blur(10px)"},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"font-semibold",children:_||"Action Complete!"})]})}),G=_=>{const h=document.getElementById("notification-message");h&&(h.querySelector("span").textContent=_,h.style.opacity="1",h.style.transform="translateY(0)",h.style.pointerEvents="auto",setTimeout(()=>{h.style.opacity="0",h.style.transform="translateY(-20px)",h.style.pointerEvents="none"},3e3))};function Pe(){const[_,h]=p.useState({}),[c,j]=p.useState({description:"",categories:P()}),[q,k]=p.useState(!1),[We,F]=p.useState([]),[Le,X]=p.useState(!1),[ze,J]=p.useState(""),[S,$]=p.useState(!1),[K,W]=p.useState(!1),[A,H]=p.useState(""),[L,Q]=p.useState(!1),[Z,z]=p.useState(null),[y,D]=p.useState({text:"",emoji:"ðŸ“Œ",color:"#7e22ce"}),[ee,Oe]=p.useState("");p.useEffect(()=>{chrome.storage.local.get(["db","profile","historyPaused","debugMode","debugDate","selectedCategories"],t=>{h(t.db||{});const a=t.profile||{description:"",categories:P()};a.categories.some(l=>(typeof l=="string"?l:l.text).toLowerCase()==="miscellaneous")||a.categories.push({text:"Miscellaneous",emoji:"â“",color:"#9ca3af"}),j(a),!a.description||a.description.trim()===""?(chrome.storage.local.set({historyPaused:!0}),k(!0)):k(!!t.historyPaused),X(!!t.debugMode),J(t.debugDate||"");const u=P();F(t.selectedCategories||u.map(l=>typeof l=="string"?l:l.text))})},[]);const te=()=>{chrome.storage.local.set({profile:c},async()=>{const t=document.querySelector("textarea"),a=t?t.value:"";!a||a.trim()===""?(chrome.storage.local.set({historyPaused:!0}),k(!0)):(chrome.storage.local.set({historyPaused:!1}),k(!1)),await I(!0);const r=B[Math.floor(Math.random()*B.length)];G(r)})};async function O(t){return new Promise(a=>chrome.storage.local.get(t,a))}async function Y(t){return new Promise(a=>chrome.storage.local.set(t,a))}async function ae(){$(!0),W(!1),H("");const{db:t}=await O(["db"]);let a=0;for(const s of Object.keys(t||{}))for(const o of Object.values(t[s]||{}))a+=o.time||0;if(a<120){$(!1),W(!1),H("Whoa there, speed racer! ðŸŽï¸ You need at least 5 minutes of browsing data. Go explore the web a bit more!");return}await I(!1);const{profile:r}=await O(["db","profile"]),u=(r?.categories||P()).map(s=>(typeof s=="string"?s:s.text).toLowerCase()),l={};for(const s of Object.keys(t||{}))for(const[o,n]of Object.entries(t[s]||{}))n.category&&u.includes(n.category.toLowerCase())&&(l[s]||(l[s]={}),l[s][o]={...n});const i={perDay:{},totalSeconds:0,totalMinutes:0,totalTabs:0,highestDay:null,highestMinutes:0,categoryTotals:{},categoryPercents:[],topCategoryWebsites:{}};let T=0,C=null,v=0;const w={};for(const s of Object.keys(l||{})){let o=0,n=0;for(const m of Object.values(l[s]||{}))o+=m.time||0,n+=m.count||0,m.category&&(w[m.category]||(w[m.category]=0),w[m.category]+=m.time||0);i.perDay[s]={seconds:o,minutes:Math.floor(o/60),tabs:n},a+=o,T+=n,o/60>v&&(v=Math.floor(o/60),C=s)}i.totalSeconds=a,i.totalMinutes=Math.floor(a/60),i.totalTabs=T,i.highestDay=C,i.highestMinutes=v,i.categoryTotals=w,i.categoryPercents=Object.entries(w).map(([s,o])=>({cat:s,sec:o,hrs:Math.round(o/3600),pct:a?o/a*100:0})).sort((s,o)=>o.sec-s.sec);const x=i.categoryPercents.filter(s=>s.sec>0).slice(0,5).map(s=>s.cat),b={};for(const s of x)b[s]=[];for(const s of Object.keys(l||{}))for(const[o,n]of Object.entries(l[s]||{}))x.includes(n.category)&&b[n.category].push({title:n.title||o,time:n.time||0,url:o});i.categorySummaries={};for(const s of x){b[s]=b[s].sort((o,n)=>n.time-o.time).slice(0,100),i.topCategoryWebsites[s]=b[s].map(o=>o.title),console.log("Top pages for category",s,":",i.topCategoryWebsites[s]);try{console.log("Summarizing category:",s);const o=await window.Summarizer.create({type:"tldr",format:"plain-text",length:"short",sharedContext:`Summarize the user's behavior in the category '${s}' from the following top 100 pages. Strictly keep it under 100 words.`}),n=b[s].map((g,d)=>`${d+1}. ${g.title} (${g.time} seconds)`).join(`
`),M=`User description: ${r?.description||""}
Top 100 pages in category '${s}':
${n}`,N=await o.summarize(M);i.categorySummaries[s]=N}catch(o){console.log("Error summarizing category",s,":",o),i.categorySummaries[s]="Summary unavailable."}}i.topCategoryStreaks={};for(const s of x){let o=[];const n={};for(const N of Object.keys(l||{})){let g=0;for(const d of Object.values(l[N]||{}))d.category===s&&(g+=d.time||0);n[N]=g}const m=Object.keys(n).sort();let M=[];if(m.length>0){const N=new Date(m[m.length-1]);for(let d=6;d>=0;d--){const E=new Date(N);E.setDate(E.getDate()-d),M.push(E.toISOString().slice(0,10))}o=M.map(d=>({date:d,minutes:n[d]||0})).map(d=>({date:d.date,seconds:d.minutes}))}else{const N=new Date;for(let g=6;g>=0;g--){const d=new Date(N);d.setDate(d.getDate()-g),M.push(d.toISOString().slice(0,10))}o=M.map(g=>({date:g,seconds:0}))}i.topCategoryStreaks[s]=o,console.log(`Streak for ${s}:`,o)}await Y({tabWrapSummary:i}),$(!1),W(!0),G("Tab Wrap ready! Your data is looking ðŸ”¥"),console.log("Tab Wrap summary calculated!")}async function I(t=!1){const{db:a,profile:r}=await O(["db","profile"]);if(!window.LanguageModel){console.log("LanguageModel API not available");return}if(await LanguageModel.availability()==="unavailable"){console.log("Gemini Nano not available");return}const l=await LanguageModel.create(),i=r?.description||"",T=(r?.categories||[]).map(v=>typeof v=="string"?v:v.text);let C=!1;for(const v of Object.keys(a||{}))for(const[w,x]of Object.entries(a[v]||{}))if(t||!x.category){console.log("Checking entry for URL:",w,"Current category:",x.category);let b="";i.trim()!==""?b=`User description: ${i}
Categories: ${T.join(", ")}
URL: ${w}
Title: ${x.title}

Based on the above, which category was the user spending time on?
Strictly output **only** one category from the list above. Do not make up a new category that is not in the list provided.`:b=`
URL: ${w}
Title: ${x.title}

If the user was on the above webpage, which category out of ${T.join(", ")} were they likely spending time on?
 Strictly output **only** one category from the list above. Do not make up a new category that is not in the list provided.`,console.log("Asking model with prompt:",b);try{const s=await l.prompt(b);x.category=s.trim(),C=!0}catch{x.category="Miscellaneous",C=!0}}l.destroy(),C?await Y({db:a}):console.log("No entries found.")}const se=()=>{if(y.text.trim()==="")return;const t=[...c.categories,{...y}];j({...c,categories:t}),D({text:"",emoji:"ðŸ“Œ",color:"#7e22ce"})},oe=t=>{if(c.categories[t].text==="Miscellaneous"){alert("Cannot remove Miscellaneous category - it is required for uncategorized items.");return}const r=c.categories.filter((u,l)=>l!==t);j({...c,categories:r})},re=t=>{z(t)},le=(t,a)=>{const r=[...c.categories];r[t]=a,j({...c,categories:r}),z(null)},ie=()=>{z(null)};return e.jsxs("div",{className:"min-h-screen p-4 sm:p-8 flex flex-col items-center font-sans",style:{backgroundColor:"#0a0a0a"},children:[e.jsx(De,{message:ee}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/30 via-pink-500/20 to-transparent rounded-full blur-3xl animate-blob"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-to-br from-blue-500/20 via-purple-500/30 to-transparent rounded-full blur-3xl animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-72 h-72 bg-gradient-to-br from-pink-500/20 via-purple-500/20 to-transparent rounded-full blur-3xl animate-blob animation-delay-4000"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:64px_64px] [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-4xl",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-gray-900/95 to-black/90 backdrop-blur-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"relative p-8 pb-6 border-b border-white/5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-blue-500/10"}),e.jsxs("div",{className:"relative text-center space-y-3",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 shadow-lg shadow-purple-500/50 mb-2",children:e.jsx(Me,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-black uppercase tracking-tight",style:{background:"linear-gradient(135deg, #ffffff 0%, #a855f7 50%, #ff0099 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Tab Wrap"}),e.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Understand your digital life, one tab at a time"})]})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center text-lg font-bold text-white mb-2",children:[e.jsx(Te,{className:"w-5 h-5 mr-3 text-pink-400"}),"Tell us about yourself"]}),e.jsx("textarea",{value:c.description,onChange:t=>j({...c,description:t.target.value}),rows:"4",className:"w-full p-4 rounded-xl bg-black/40 text-gray-100 border border-white/10 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all resize-none placeholder-gray-500",placeholder:"e.g., I'm a software developer who loves tech, travel, and staying informed..."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>Q(!L),className:"group flex items-center justify-between w-full p-4 rounded-xl bg-black/40 border border-white/10 hover:border-purple-500/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20",children:e.jsx(je,{className:"w-5 h-5 text-purple-400"})}),e.jsx("span",{className:"text-lg font-bold text-white",children:"Manage Categories"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-400 bg-white/5 px-3 py-1 rounded-full",children:[c.categories.length," categories"]}),e.jsx("div",{className:`transform transition-transform ${L?"rotate-180":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),L&&e.jsxs("div",{className:"bg-black/40 rounded-xl p-6 space-y-6 border border-white/10",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Your Categories"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-80 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-purple-500/50 scrollbar-track-white/5",children:c.categories.map((t,a)=>e.jsx("div",{className:"group flex items-center justify-between bg-gradient-to-r from-white/5 to-transparent hover:from-white/10 rounded-xl p-4 border border-white/5 hover:border-purple-500/30 transition-all",children:Z===a?e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("input",{type:"text",value:t.emoji,onChange:r=>{const u=[...c.categories];u[a]={...u[a],emoji:r.target.value},j({...c,categories:u})},className:"w-14 p-2 text-center rounded-lg bg-black/60 text-white border border-white/20 focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50",maxLength:"2"}),e.jsx("input",{type:"text",value:t.text,onChange:r=>{const u=[...c.categories];u[a]={...u[a],text:r.target.value},j({...c,categories:u})},className:"flex-1 p-2 rounded-lg bg-black/60 text-white border border-white/20 focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50"}),e.jsx("select",{value:t.color,onChange:r=>{const u=[...c.categories];u[a]={...u[a],color:r.target.value},j({...c,categories:u})},className:"p-2 rounded-lg bg-black/60 text-white border border-white/20 focus:border-purple-500/50",children:U.map(r=>e.jsx("option",{value:r.value,children:r.name},r.value))}),e.jsx("button",{onClick:()=>le(a,t),className:"p-2 rounded-lg bg-green-600/80 hover:bg-green-600 text-white transition-colors",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ie,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-2xl",children:t.emoji}),e.jsx("span",{className:"text-white font-semibold",children:t.text}),e.jsx("div",{className:"w-6 h-6 rounded-lg border-2 border-white/20 shadow-inner",style:{backgroundColor:t.color}})]}),e.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>re(a),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white transition-colors",children:e.jsx(ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>oe(a),disabled:t.text==="Miscellaneous",className:`p-2 rounded-lg transition-colors ${t.text==="Miscellaneous"?"bg-white/5 text-gray-600 cursor-not-allowed":"bg-red-500/20 hover:bg-red-500/40 text-red-400 hover:text-red-300"}`,children:e.jsx(R,{className:"w-4 h-4"})})]})]})},a))})]}),e.jsxs("div",{className:"space-y-3 pt-3 border-t border-white/10",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Add New Category"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:y.emoji,onChange:t=>D({...y,emoji:t.target.value}),className:"w-16 p-3 text-center rounded-lg bg-black/60 text-white border border-white/20 focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50",placeholder:"ðŸ“Œ",maxLength:"2"}),e.jsx("input",{type:"text",value:y.text,onChange:t=>D({...y,text:t.target.value}),className:"flex-1 p-3 rounded-lg bg-black/60 text-white border border-white/20 focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50 placeholder-gray-500",placeholder:"Category name"}),e.jsx("select",{value:y.color,onChange:t=>D({...y,color:t.target.value}),className:"p-3 rounded-lg bg-black/60 text-white border border-white/20 focus:border-purple-500/50",children:U.map(t=>e.jsx("option",{value:t.value,children:t.name},t.value))}),e.jsx("button",{onClick:se,disabled:!y.text.trim(),className:`p-3 rounded-lg transition-all ${y.text.trim()?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white shadow-lg":"bg-white/5 text-gray-600 cursor-not-allowed"}`,children:e.jsx(fe,{className:"w-5 h-5"})})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:te,className:"group w-full px-6 py-4 rounded-xl font-bold text-base transition-all duration-300 shadow-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white flex items-center justify-center space-x-2 transform hover:scale-[1.02]",children:[e.jsx(ve,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),e.jsx("span",{children:"Save Profile"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>chrome.storage.local.set({db:{}},()=>h({})),className:"group px-4 py-3 rounded-xl font-semibold text-sm transition-all bg-white/5 hover:bg-white/10 text-gray-300 hover:text-white border border-white/10 hover:border-red-500/30 flex items-center justify-center space-x-2",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Clear History"})]}),q?e.jsxs("button",{onClick:async()=>{const{profile:t}=await new Promise(a=>chrome.storage.local.get(["profile"],a));if(t&&t.description&&t.description.trim()!=="")chrome.storage.local.set({historyPaused:!1},()=>k(!1));else{const a=document.querySelector("textarea");a&&(a.style.boxShadow="0 0 0 3px #ef4444",a.style.borderColor="#ef4444",a.style.transition="box-shadow 0.3s, border-color 0.3s",setTimeout(()=>{a.style.boxShadow="",a.style.borderColor=""},2e3))}},className:"group px-4 py-3 rounded-xl font-semibold text-sm transition-all bg-green-500/10 hover:bg-green-500/20 text-green-400 hover:text-green-300 border border-green-500/30 hover:border-green-500/50 flex items-center justify-center space-x-2",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Resume History"})]}):e.jsxs("button",{onClick:()=>chrome.storage.local.set({historyPaused:!0},()=>k(!0)),className:"group px-4 py-3 rounded-xl font-semibold text-sm transition-all bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 flex items-center justify-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Pause History"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-4 bg-gradient-to-r from-transparent via-black/90 to-transparent text-gray-500 uppercase tracking-wider",children:"Generate Wrap"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Generate Your Tab Wrap"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Create a personalized summary of your browsing activity"})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("button",{className:"group relative w-full sm:w-auto px-12 py-5 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden",style:{background:"linear-gradient(135deg, #ff0099 0%, #ff6347 100%)",color:"white"},onClick:ae,disabled:S,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative flex items-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:S?"Analyzing your data...":"Generate Tab Wrap"})]})]}),S&&e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxs("div",{className:"relative w-12 h-12",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-purple-500/20 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-purple-500 rounded-full animate-spin"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"This might take a moment..."})]}),A&&!S&&e.jsx("div",{className:"w-full px-6 py-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 font-medium text-center",children:A}),K&&!S&&e.jsx("button",{className:"group relative px-10 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-xl hover:shadow-2xl overflow-hidden transform hover:scale-105",style:{background:"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)",color:"white"},onClick:()=>window.location.href="../pages/tabwrap.html",children:e.jsxs("div",{className:"relative flex items-center space-x-2",children:[e.jsx("span",{children:"View My Tab Wrap"}),e.jsx("span",{className:"text-xl group-hover:translate-x-1 transition-transform",children:"â†’"})]})})]})]})]})]})}),e.jsx("style",{children:`
          @keyframes blob {
            0% {
              transform: translate(0px, 0px) scale(1);
            }
            33% {
              transform: translate(30px, -50px) scale(1.1);
            }
            66% {
              transform: translate(-20px, 20px) scale(0.9);
            }
            100% {
              transform: translate(0px, 0px) scale(1);
            }
          }
          .animate-blob {
            animation: blob 7s infinite cubic-bezier(0.6, -0.28, 0.735, 0.045);
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `})]})}const $e=document.getElementById("root");ne.createRoot($e).render(e.jsx(Pe,{}));
